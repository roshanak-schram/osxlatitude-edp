<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>General server configuration</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Abyss Web Server  For  MacOS X   User's Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Server Management"
HREF="server.html"><LINK
REL="PREVIOUS"
TITLE="Server Activity"
HREF="serveractivity.html"><LINK
REL="NEXT"
TITLE="SSL/TLS Certificates"
HREF="ssl.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="AppleIcon"
CONTENT="icon.png"><META
NAME="AppleTitle"
CONTENT="General server configuration"><META
NAME="Description"
CONTENT="General server configuration"><META
NAME="AppleOrder"
CONTENT=""></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Abyss Web Server  For  MacOS X   User's Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="serveractivity.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 4. Server Management</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="ssl.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="SERVERGENERAL"
>General server configuration</A
></H1
><P
>&#13;			Open the console and select <B
CLASS="GUILABEL"
>Server Configuration</B
> to display the general server

			configuration dialog.

		</P
><P
>&#13;			The following subsections describe the server configuration options.

		</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SERVER-PARAMETERS"
>Parameters</A
></H2
><P
>&#13;				Select <B
CLASS="GUILABEL"
>Parameters</B
> in the <B
CLASS="GUILABEL"
>Server Configuration</B
> dialog to display

				the server parameters dialog.

			</P
><P
>&#13;				The dialog includes the following fields:

				<UL
><LI
><P
><A
NAME="SERVER-PARAMETERS-ROOT"
></A
>

						<B
CLASS="GUILABEL"
>Server Root</B
>: The root path of the web server. By default, it is the directory

						where Abyss Web Server executable is installed. It is used as the base path for all relative real paths in the configuration.

					</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-TIMEOUT"
></A
>

						<B
CLASS="GUILABEL"
>Timeout</B
>: How many seconds the server waits for an inactive

						connection before closing it.

					</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-KEEPALIVE"
></A
>

						<B
CLASS="GUILABEL"
>Keep-Alive Requests</B
>: The maximum number of requests that can be served over

						the same connection. Only HTTP/1.1 and some HTTP/1.0 compliant browsers can benefit

						from this feature.

					</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-MAXCONN"
></A
>

						<B
CLASS="GUILABEL"
>Maximum Simultaneous Requests</B
>: The maximum number of requests the server can

						serve in parallel.

					</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-OPSYS"
></A
>

							<B
CLASS="GUILABEL"
>Operating System Parameters</B
>: Press <B
CLASS="GUILABEL"
>Edit...</B
> to open the operating system parameters dialog. This dialog contains the following fields:



                                                        



							<UL
><LI
><P
><A
NAME="SERVER-PARAMETERS-OPSYS-SYSUSER"
></A
>

							<B
CLASS="GUILABEL"
>Operating System User</B
>: The user name under whom privileges the server is run when

                                                                

                                                                

                                                        		launched as a startup item. See the "<A
HREF="startup.html"
>Startup Configuration</A
>" appendix for more information.

                                                                

							</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-OPSYS-SYSGROUP"
></A
>

							<B
CLASS="GUILABEL"
>Operating System Group</B
>: The group identity under which the server is run when

                                                                

                                                                

                                                        		launched as a startup item. See the "<A
HREF="startup.html"
>Startup Configuration</A
>" appendix for more information.

                                                                

                                                                

                                    If it is set to <B
CLASS="GUILABEL"
>Default User's Group</B
>, the server uses the default login group associated with the selected operating system user.

							</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-OPSYS-PIDFILE"
></A
>

								<B
CLASS="GUILABEL"
>PID File</B
>: The path of the file where the server's process ID is written

								at each startup. You can leave empty if you do not need the server's process ID.

								</P
></LI
></UL
>

						</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-ADVANCED"
></A
>

						<B
CLASS="GUILABEL"
>Advanced Parameters</B
>: Press <B
CLASS="GUILABEL"
>Edit...</B
> to access the advanced parameters dialog. This dialog has the following fields:



						<UL
><LI
><P
><A
NAME="SERVER-PARAMETERS-ADVANCED-MAXREQUESTLINELENGTH"
></A
>

								<B
CLASS="GUILABEL"
>Maximum length of the HTTP request line</B
>: The maximum length in bytes of the HTTP request line. Requests which do not respect this limit are refused and a HTTP error 414 (Request-URI Too Long) is reported to the client.

							</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-ADVANCED-MAXREQUESTHEADERSLENGTH"
></A
>

								<B
CLASS="GUILABEL"
>Maximum length of the HTTP request headers</B
>: The maximum length in bytes of all the HTTP request headers. Requests which exceed this limit are refused and a HTTP error 413 (Request Entity Too Large) is reported to the client.

							</P
></LI
></UL
>

					</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-RPAF"
></A
>

						<B
CLASS="GUILABEL"
>Back-end Operation Support</B
>: When Abyss Web Server is used as a back-end for another reverse proxy, it can be configured to restore the original IP address of the reverse proxy client and other details before processing the request. This can help make the frontal reverse proxy completely transparent to Web applications running on Abyss Web Server and to the logging taking place on it.

                        </P
><P
>&#13;                            Press <B
CLASS="GUILABEL"
>Edit...</B
> to control the back-end operation support settings. This dialog contains the following fields:



						<UL
><LI
><P
><A
NAME="SERVER-PARAMETERS-RPAF-PROXIES"
></A
>

								<B
CLASS="GUILABEL"
>Proxies</B
>: The list of IP addresses of computers which are recognized as reverse proxies and for which the server should act as a transparent back-end.

							</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-RPAF-FORWARDEDFORHEADERS"
></A
>

								<B
CLASS="GUILABEL"
>Forwarded-For Headers</B
>: The names of the headers that should be checked for the original IP of the reverse proxy client. <KBD
CLASS="USERINPUT"
>X-Forwarded-For</KBD
> and <KBD
CLASS="USERINPUT"
>X-Real-IP</KBD
> are the most common ones widely used in reverse proxies.

							</P
></LI
><LI
><P
><A
NAME="SERVER-PARAMETERS-RPAF-FORWARDEDHOSTHEADERS"
></A
>

								<B
CLASS="GUILABEL"
>Forwarded-Host Headers</B
>: The names of the headers that should be checked for the original <KBD
CLASS="USERINPUT"
>Host</KBD
> header value as the client sent it to the frontal reverse proxy. <KBD
CLASS="USERINPUT"
>X-Forwarded-Host</KBD
> and <KBD
CLASS="USERINPUT"
>X-Host</KBD
> are the most common header names used for that purpose. Note that when the <KBD
CLASS="USERINPUT"
>Host</KBD
> value is restored, the request will be normally processed and checked against the host names of each of the hosts managed by the server.

							</P
></LI
></UL
>

					</P
></LI
></UL
>

			</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SERVER-MIMETYPES"
>MIME Types</A
></H2
><P
>&#13;				When the server sends a document to a browser, it also sends its MIME type.

				This information helps the browser to know what kind of file it is (HTML, ZIP, JPEG image, etc&#8230;)

				and what to do with it (display it, save it on the disk, launch a configured application to read it, etc&#8230;).

				Abyss Web Server comes with a preset list of common MIME types. To modify this list, select <B
CLASS="GUILABEL"
>MIME Types</B
>

				in the server configuration menu.

			</P
><P
>&#13;				Use the displayed table to edit, remove or add MIME types.

				A MIME Type has the format <KBD
CLASS="USERINPUT"
>type/subtype</KBD
> and is associated to one or more extensions separated by spaces.

			</P
><DIV
CLASS="EXAMPLE"
><A
NAME="AEN728"
></A
><P
><B
>Example 4-1. The text/html MIME type</B
></P
><P
>&#13;					HTML files have <KBD
CLASS="USERINPUT"
>text/html</KBD
> as MIME type. By default, <KBD
CLASS="USERINPUT"
>text/html</KBD
>

                                        is associated to extensions

					<KBD
CLASS="USERINPUT"
>html</KBD
> and <KBD
CLASS="USERINPUT"
>htm</KBD
>. As a consequence, when the server sends to a

					browser a document which extension is <KBD
CLASS="USERINPUT"
>html</KBD
> or <KBD
CLASS="USERINPUT"
>htm</KBD
>,

					it will also set the document's MIME type to <KBD
CLASS="USERINPUT"
>text/html</KBD
>.

				</P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SERVER-THROTTLE"
>Global Bandwidth Limits</A
></H2
><P
>&#13;				Abyss Web Server gives you complete control over the bandwidth the server uses when answering to requests. Select <B
CLASS="GUILABEL"
>Global Bandwidth Limits</B
> in the <B
CLASS="GUILABEL"
>Server Configuration</B
> dialog to display

				the global bandwidth parameters dialog. For finer  bandwidth settings, you should use <B
CLASS="GUILABEL"
>Bandwidth Limits</B
> in every host configuration menu.

			</P
><P
>&#13;				The dialog contains the following fields:

				<UL
><LI
><P
><A
NAME="SERVER-THROTTLE-MAXSPEED"
></A
>

						<B
CLASS="GUILABEL"
>Maximum Total Bandwidth</B
>: The amount of output bandwidth that the server should not exceed for all the connections. If set to <B
CLASS="GUILABEL"
>Unlimited</B
>, the total output bandwidth will be unrestricted.

					</P
></LI
><LI
><P
><A
NAME="SERVER-THROTTLE-MAXSPEEDPERIP"
></A
>

						<B
CLASS="GUILABEL"
>Maximum Bandwidth Per IP Address</B
>: The total amount of output bandwidth that the server should not exceed for all the connections made by a single IP address. No such limit will ever be applied if this parameter is set to <B
CLASS="GUILABEL"
>Unlimited</B
>.

					</P
></LI
><LI
><P
><A
NAME="SERVER-THROTTLE-MAXCONNECTIONSPERIP"
></A
>

						<B
CLASS="GUILABEL"
>Maximum Connections Per IP Address</B
>: The maximum number of simultaneous connections made by a single IP address to the server. To disable such a limitation, set this parameter to <B
CLASS="GUILABEL"
>Unlimited</B
>.

					</P
></LI
></UL
>

			</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>
					Abyss Web Server does always its best to deliver data to clients while respecting the restrictions set on the bandwidth. For example, assume that <B
CLASS="GUILABEL"
>Maximum Total Bandwidth</B
> is set to <KBD
CLASS="USERINPUT"
>10</KBD
> KB/s and <B
CLASS="GUILABEL"
>Maximum Bandwidth Per IP Address</B
> to <KBD
CLASS="USERINPUT"
>4</KBD
> KB/s. If there are 2 clients connecting from different IP addresses, the server allocates to each of them a bandwidth of <KBD
CLASS="USERINPUT"
>4</KBD
> KB/s. But if there are 5 clients, the server will allocate to each of them only <KBD
CLASS="USERINPUT"
>2</KBD
> KB/s.

				</P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SERVER-ANTIHACK"
>Anti-Hacking Protection</A
></H2
><P
>&#13;				Although Abyss Web Server is secure and has an integrated system to prevent malicious accesses to the server, it was equipped with an automatic <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>anti-hacking protection</I
></SPAN
> system to detect clients that are trying to attack the server and to ban them. This system improves the overall security, detects at an early stage <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>denial of service</I
></SPAN
> attacks, and saves the bandwidth that could be wasted during attacks.

			</P
><P
>&#13;				To configure the anti-hacking system, select <B
CLASS="GUILABEL"
>Anti-Hacking Protection</B
> in the <B
CLASS="GUILABEL"
>Server Configuration</B
> dialog.

			</P
><P
>&#13;				The displayed dialog is made of the following items:

				<UL
><LI
><P
><A
NAME="SERVER-ANTIHACK-ENABLED"
></A
>

						<B
CLASS="GUILABEL"
>Enable Automatic Anti-Hacking Protection</B
>: Check it to enable the automatic anti-hacking protection system. 

					</P
></LI
><LI
><P
><A
NAME="SERVER-ANTIHACK-DENIEDIPS"
></A
>						

						<B
CLASS="GUILABEL"
>Do not Monitor Requests from</B
>: This table contains the IP addresses or IP address ranges that should not be protected against hacking. Refer to "<A
HREF="ipformat.html"
>IP Addresses and Ranges Format</A
>" appendix for more information about the IP addresses and ranges. Fill this table with trusted IP addresses only.

					</P
></LI
><LI
><P
><A
NAME="SERVER-ANTIHACK-THRESHOLD"
></A
>

						<B
CLASS="GUILABEL"
>Bad Requests Count Before Banning</B
>: The number of tolerated bad requests before considering the client as attempting to hack the server. A request that results in a reply which HTTP status code is 400 or 401 is counted as a bad request. A request that results in a reply which HTTP status code is 403, 404, 405, or 408 is counted as half a bad request. 

					</P
></LI
><LI
><P
><A
NAME="SERVER-ANTIHACK-MONITORPERIOD"
></A
>

						<B
CLASS="GUILABEL"
>Monitoring Period</B
>: The server considers only the bad requests that are generated by a client during the last <B
CLASS="GUILABEL"
>Monitoring Period</B
> to decide whether to ban it or not. The bigger this parameter is, the more memory the anti-hacking system needs to record all the bad requests.

					</P
></LI
><LI
><P
><A
NAME="SERVER-ANTIHACK-BANPERIOD"
></A
>

						<B
CLASS="GUILABEL"
>Banning Duration</B
>: How much time a client is banned when it is considered as hacking the server. 

					</P
></LI
></UL
>

			</P
><P
>&#13;					In other words, the anti-hacking system works as follows: If a client has generated <B
CLASS="GUILABEL"
>Bad Requests Count Before Banning</B
> bad requests during the last <B
CLASS="GUILABEL"
>Monitoring Period</B
> seconds, then ban it for the next <B
CLASS="GUILABEL"
>Banning Duration</B
> seconds. When a client is banned, the server will not accept connections from it.

			</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>
					The server preserves the list of banned clients when it is shutdown. So if a client was banned for 2 hours at 10:00, and if the server was stopped at 10:15 and restarted at 11:00, the server will continue to not accept requests from the banned client until 12:00.

				</P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SERVER-LOG"
>Logging Parameters</A
></H2
><A
NAME="SERVER-LOG-FORMATS"
></A
><P
>&#13;				Beside the common log format and the combined log format, Abyss Web Server offers the possibility to define custom logging formats that can be used in the configuration of hosts. Select <B
CLASS="GUILABEL"
>Logging Parameters</B
> in the <B
CLASS="GUILABEL"
>Server Configuration</B
> dialog and use the <B
CLASS="GUILABEL"
>Custom Logging Formats</B
> table to edit, remove or add custom logging formats definitions.

			</P
><P
>&#13;				Each format is defined by its <B
CLASS="GUILABEL"
>name</B
> and a list of fields it contains. Fields refer to information from the requests, the responses, or the CGI variables. They can also refer to general information (such as the date and time) or to static text that is to be inserted in each log line.

			</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="serveractivity.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="ssl.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Server Activity</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="server.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>SSL/TLS Certificates</TD
></TR
></TABLE
></DIV
><DIV
CLASS="COPYRIGHT"
>Copyright © 2001-2012 Aprelium</DIV
></BODY
></HTML
>